<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Drop Service</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <!-- Auth / –û–∂–∏–¥–∞–Ω–∏–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è -->
    <section id="page-auth" class="page active">
      <div class="auth-card">
        <div class="skeleton skeleton-avatar"></div>
        <h1>Drop Service</h1>
        <p id="auth-message">–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø‚Ä¶</p>
        <div id="auth-pending" class="hidden">
          <p class="text-muted">–í–∞—à–∞ –∑–∞—è–≤–∫–∞ –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏. –û–∂–∏–¥–∞–π—Ç–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –≤ –±–æ—Ç–µ.</p>
        </div>
        <div id="auth-rejected" class="hidden">
          <p class="text-danger">–î–æ—Å—Ç—É–ø –æ—Ç–∫–ª–æ–Ω—ë–Ω.</p>
        </div>
      </div>
    </section>

    <!-- –ì–ª–∞–≤–Ω–∞—è (Dashboard) -->
    <section id="page-dashboard" class="page">
      <div class="page-header">
        <h2>–ì–ª–∞–≤–Ω–∞—è</h2>
      </div>
      <div class="balance-card">
        <p class="label">–ë–∞–ª–∞–Ω—Å</p>
        <p id="balance-usd" class="balance-value">‚Äî $</p>
        <p id="balance-rub" class="balance-sub">‚Äî ‚ÇΩ</p>
      </div>
      <div class="quick-actions">
        <button type="button" class="btn btn-primary btn-block" data-action="requisites">
          üì• –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã
        </button>
        <button type="button" class="btn btn-outline btn-block" data-action="send-check">
          üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ–∫
        </button>
      </div>
    </section>

    <!-- –†–µ–∫–≤–∏–∑–∏—Ç—ã (—Å—Ç—Ä–∞–Ω–∞ ‚Üí –±–∞–Ω–∫ ‚Üí —Å—Ç–∞—Ç–∏–∫–∞ –∏–ª–∏ P2P) -->
    <section id="page-requisites" class="page">
      <div class="page-header with-back" data-back="dashboard">
        <button type="button" class="btn-icon back" aria-label="–ù–∞–∑–∞–¥"></button>
        <h2>–†–µ–∫–≤–∏–∑–∏—Ç—ã</h2>
      </div>
      <div id="req-step-country" class="req-step">
        <p class="label">–°—Ç—Ä–∞–Ω–∞</p>
        <div id="req-countries" class="card-list"></div>
        <div class="req-p2p">
          <button type="button" class="btn btn-outline btn-block" id="req-p2p-btn">üìã –†–µ–∫–≤–∏–∑–∏—Ç—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É (P2P)</button>
        </div>
      </div>
      <div id="req-step-bank" class="req-step hidden">
        <p class="label">–ë–∞–Ω–∫</p>
        <div id="req-banks" class="card-list"></div>
      </div>
      <div id="req-step-detail" class="req-step hidden">
        <div id="req-detail-card" class="requisite-detail"></div>
        <button type="button" class="btn btn-primary btn-block" id="req-btn-paid">–Ø –æ–ø–ª–∞—Ç–∏–ª (–∑–∞–≥—Ä—É–∑–∏—Ç—å —á–µ–∫)</button>
      </div>
      <!-- P2P —Ñ–æ—Ä–º–∞ -->
      <div id="req-p2p-form" class="req-step hidden">
        <div class="form-group">
          <label>–°—É–º–º–∞, ‚ÇΩ</label>
          <input type="number" id="p2p-amount" placeholder="5000" min="1" step="1">
        </div>
        <div class="form-group">
          <label>–í—Ä–µ–º—è –Ω–∞ –æ–ø–ª–∞—Ç—É, –º–∏–Ω</label>
          <input type="number" id="p2p-time" placeholder="20" min="1" max="1440" value="20">
        </div>
        <button type="button" class="btn btn-primary btn-block" id="p2p-submit">–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
      </div>
    </section>

    <!-- –°–¥–µ–ª–∫–∏: –ú–æ–∏ –∑–∞—è–≤–∫–∏ + –ë–∏—Ä–∂–∞ (–º–µ—Ä—á–∞–Ω—Ç) -->
    <section id="page-deals" class="page">
      <div class="page-header">
        <h2>–°–¥–µ–ª–∫–∏</h2>
      </div>
      <div class="tabs">
        <button type="button" class="tab active" data-tab="my-deals">–ú–æ–∏ –∑–∞—è–≤–∫–∏</button>
        <button type="button" class="tab" data-tab="exchange">–ë–∏—Ä–∂–∞</button>
      </div>
      <div id="tab-my-deals" class="tab-panel active">
        <div id="my-deals-list" class="deal-list"></div>
        <div id="my-deals-empty" class="empty-state hidden">–ù–µ—Ç –∑–∞—è–≤–æ–∫</div>
      </div>
      <div id="tab-exchange" class="tab-panel">
        <div id="exchange-list" class="deal-list"></div>
        <div id="exchange-empty" class="empty-state hidden">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞—è–≤–æ–∫</div>
      </div>
      <!-- –î–µ—Ç–∞–ª–∏ —Å–¥–µ–ª–∫–∏ -->
      <div id="deal-detail" class="deal-detail hidden"></div>
    </section>

    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ–∫–∞ -->
    <section id="page-upload-check" class="page">
      <div class="page-header with-back" data-back="dashboard">
        <button type="button" class="btn-icon back" aria-label="–ù–∞–∑–∞–¥"></button>
        <h2>–û—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ–∫</h2>
      </div>
      <div class="upload-zone" id="upload-zone">
        <input type="file" id="check-file" accept="image/*" class="hidden">
        <p>–ù–∞–∂–º–∏—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–æ—Ç–æ —á–µ–∫–∞</p>
      </div>
      <p class="text-muted small">–°–∫—Ä–∏–Ω –∏–ª–∏ —Ñ–æ—Ç–æ –ø–µ—Ä–µ–≤–æ–¥–∞</p>
      <button type="button" class="btn btn-primary btn-block hidden" id="upload-submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </section>

    <!-- –ö–æ—à–µ–ª—ë–∫ (–±–∞–ª–∞–Ω—Å + –≤—ã–≤–æ–¥) -->
    <section id="page-wallet" class="page">
      <div class="page-header">
        <h2>–ö–æ—à–µ–ª—ë–∫</h2>
      </div>
      <div class="balance-card">
        <p id="wallet-balance-usd" class="balance-value">‚Äî $</p>
        <p id="wallet-balance-rub" class="balance-sub">‚Äî ‚ÇΩ</p>
      </div>
      <button type="button" class="btn btn-primary btn-block" id="wallet-withdraw">–í—ã–≤–µ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞</button>
      <div id="withdraw-form" class="hidden">
        <div class="form-group">
          <label>–°—É–º–º–∞, USD</label>
          <input type="number" id="withdraw-amount" placeholder="10" min="0.01" step="0.01">
        </div>
        <button type="button" class="btn btn-primary btn-block" id="withdraw-submit">–ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
      </div>
    </section>

    <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
    <section id="page-profile" class="page">
      <div class="page-header">
        <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
      </div>
      <div class="profile-stats">
        <div class="stat">
          <span class="label">–í—Å–µ–≥–æ –ø—Ä–æ—Ñ–∏—Ç</span>
          <span id="profile-total-profit">‚Äî ‚ÇΩ</span>
        </div>
        <div class="stat">
          <span class="label">–ó–∞ –¥–µ–Ω—å</span>
          <span id="profile-day-profit">‚Äî ‚ÇΩ</span>
        </div>
        <div class="stat">
          <span class="label">–ó–∞ –º–µ—Å—è—Ü</span>
          <span id="profile-month-profit">‚Äî ‚ÇΩ</span>
        </div>
      </div>
    </section>

    <!-- Bottom Navigation -->
    <nav id="bottom-nav" class="bottom-nav hidden">
      <button type="button" class="nav-item active" data-page="dashboard" aria-label="–ì–ª–∞–≤–Ω–∞—è">
        <span class="nav-icon">üè†</span>
        <span>–ì–ª–∞–≤–Ω–∞—è</span>
      </button>
      <button type="button" class="nav-item" data-page="deals" aria-label="–°–¥–µ–ª–∫–∏">
        <span class="nav-icon">üìã</span>
        <span>–°–¥–µ–ª–∫–∏</span>
      </button>
      <button type="button" class="nav-item" data-page="wallet" aria-label="–ö–æ—à–µ–ª—ë–∫">
        <span class="nav-icon">üí∞</span>
        <span>–ö–æ—à–µ–ª—ë–∫</span>
      </button>
      <button type="button" class="nav-item" data-page="profile" aria-label="–ü—Ä–æ—Ñ–∏–ª—å">
        <span class="nav-icon">üë§</span>
        <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
      </button>
    </nav>
  </div>

  <!-- Toast container -->
  <div id="toast-container"></div>

  <!-- Success overlay (–≥–∞–ª–æ—á–∫–∞) -->
  <div id="success-overlay" class="success-overlay hidden">
    <div class="success-check">
      <svg viewBox="0 0 52 52" class="success-circle">
        <circle class="success-circle-bg" cx="26" cy="26" r="25"/>
        <path class="success-check-path" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
      </svg>
    </div>
    <p id="success-message">–ì–æ—Ç–æ–≤–æ</p>
  </div>

  <script src="config.js"></script>
  <script src="app.js"></script>
</body>
</html>
